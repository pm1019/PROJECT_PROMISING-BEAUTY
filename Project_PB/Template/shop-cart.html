{% extends 'BAsee.html' %}

    {% block content %}

    {% load static %}
    <style>
        /* Chrome, Safari, Edge, Opera */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
        }
    </style>

    <!-- Breadcrumb Begin -->
    <div class="breadcrumb-option">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb__links">
                        <a href="./index.html"><i class="fa fa-home"></i> Home</a>
                        <span>Shopping cart</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Breadcrumb End -->

    <!-- Shop Cart Section Begin -->
    <section class="shop-cart spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="shop__cart__table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Product</th>
                                    <th>Details</th>
                                    <th>Price</th>
                                    <th>Quantity</th>
                                    <th>Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for prod in bag_data %}
                                <tr>
                                    <td class="cart__product__item" style="width:400px;">
                                        <img src="{{prod.prod_img.url}}" alt="" style="height: 400px; width:300px;">
                                    </td>
                                    <td >
                                        <div class="cart__product__item__title">
                                        <h5>{{prod.prod_name}}</h5>
                                        <div class="rating text-danger">
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                    </td>
                                    <td class="cart__price text-success">&#8377 <span id="prc">{{prod.prod_price}}</span></td>
                                    <td class="cart__quantity">
                                        <div class="">
                                            <input type="button" class="btn btn-dark" onclick="decrementValue()" value="-" />
                                            <input type="text" name="quantity" value="1" maxlength="2" max="10" size="1" id="number" />
                                            <input type="button" class="btn btn-dark" onclick="incrementValue()" value="+" />
                                        </div>
                                    </td>
                                    <td class="cart__total text-success">&#8377 <span id="tot">{{prod.prod_price}}</span>/-</td>
                                    <td class="cart__close"><a href="{% url 'remove_bag' prod.product_id %}"><span class="icon_close"></span></a></td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="cart__btn">
                        <a href="{% url 'shop' %}">Continue Shopping</a>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                    {% if user.is_authenticated %}
                        <div class="btn btn-dark"><a href="{% url 'proceed_checkout' %}" class="text-light">PROCEED TO CHECKOUT</a></div> 
                    {% else %}
                    <div class="alert alert-warning alert-dismissible fade show" role="alert">
                        <strong class="fs-2">Oops!</strong><span class="text-danger fs-4"> First, Login for using our Services..!!</span><br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <div class="btn btn-dark btn-lg"><a href="{% url 'login' %}" class="text-light">Login/Registration</a></div>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                      </div>
                    {% endif %}
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="discount__content">
                        
                    </div>
                </div>
                
            </div>
        </div>
    </section>
    <!-- Shop Cart Section End -->
    <script>
        function incrementValue(prc)
        {
            var price=prc;
            var value = parseInt(document.getElementById('number').value, 10);
            value = isNaN(value) ? 0 : value;
            if(value<10){
                value++;
                document.getElementById('number').value = value;
            }
            var tot = document.getElementById('tot').innerHTML=price*value;
        }
        function decrementValue(prc)
        {
            var price=prc;
            var value = parseInt(document.getElementById('number').value, 10);
            value = isNaN(value) ? 0 : value;
            if(value>1){
                value--;
                document.getElementById('number').value = value;
            }
            var tot = document.getElementById('tot').innerHTML=price*value;
        }

    </script>

    {% endblock %}
    